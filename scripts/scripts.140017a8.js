"use strict";angular.module("geocoderApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.bootstrap","uiGmapgoogle-maps"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("geocoderApp").config(["uiGmapGoogleMapApiProvider",function(a){a.configure({key:"AIzaSyB7YXoHGTXoXMqZfXojJKU_8trH8Go_gH4",v:"3.17",libraries:"weather,geometry,visualization"})}]).directive("resize",["$window",function(a){return function(b){var c=angular.element(a);b.getWindowDimensions=function(){return{h:c.height(),w:c.width()}},b.$watch(b.getWindowDimensions,function(a){$(".angular-google-map-container").height(a.h-0)},!0),c.bind("resize",function(){b.$apply()})}}]).controller("MainCtrl",["$scope","$http","uiGmapGoogleMapApi",function(a,b,c){a.map={center:{latitude:51.47732,longitude:-37e-5},options:{maxZoom:20,minZoom:3},zoom:3,control:{},marker:{idk:0}},c.then(function(){function c(a){a=1*a;var b=a>0?"N":"S";a=Math.abs(a);var c=Math.floor(a),d=Math.floor(60*(a-c)),e=(3600*(a-c-d/60)).toFixed(1);return c+"° "+d+"' "+e+'" '+b}function d(a){a=1*a;var b=a>0?"E":"W";a=Math.abs(a);var c=Math.floor(a),d=Math.floor(60*(a-c)),e=(3600*(a-c-d/60)).toFixed(1);return c+"° "+d+"' "+e+'" '+b}a.codeAddress=function(e){var f=new google.maps.ElevationService,g=new google.maps.Geocoder;g.geocode({address:e},function(e,g){if(g==google.maps.GeocoderStatus.OK){var h=e[0].geometry.location,i=h.lat(),j=h.lng();a.formatted_address=e[0].formatted_address,a.address_components=e[0].address_components,a.map.control.getGMap().setCenter(e[0].geometry.location),a.map.control.getGMap().fitBounds(e[0].geometry.viewport),a.map.marker.idk=1,a.map.marker.latitude=i,a.map.marker.longitude=j,a.panelsLocation=[{Prop:"Latitude",Icon:"glyphicon-map-marker",Unit:"Decimal Degrees",Value:i.toFixed(5)},{Prop:"Longitude",Icon:"glyphicon-map-marker",Unit:"Decimal Degrees",Value:j.toFixed(5)},{Prop:"Latitude",Icon:"glyphicon-globe",Unit:"Degree Minutes Seconds",Value:c(i)},{Prop:"Longitude",Icon:"glyphicon-globe",Unit:"Degree Minutes Seconds",Value:d(j)}];var k={locations:[h]};f.getElevationForLocations(k,function(b,c){if(c==google.maps.ElevationStatus.OK&&b[0]){var d=parseFloat(b[0].elevation),e=3.2808*d;a.panelsElevation=[{Prop:"Elevation",Icon:"glyphicon-globe",Unit:"Meters",Value:d.toFixed(2)},{Prop:"Elevation",Icon:"glyphicon-globe",Unit:"Feet",Value:e.toFixed(1)}]}});var l=Math.round((new Date).getTime()/1e3).toString();b.get("https://maps.googleapis.com/maps/api/timezone/json?location="+i+","+j+"&timestamp="+l+"&sensor=false&key=AIzaSyB7YXoHGTXoXMqZfXojJKU_8trH8Go_gH4").success(function(b){null!=b.timeZoneId&&(a.panelsTimeZone=[{Prop:"Offset for DST",Icon:"glyphicon-time",Unit:"Seconds",Value:b.dstOffset},{Prop:"Offset from UTC",Icon:"glyphicon-time",Unit:"Seconds",Value:b.rawOffset},{Prop:"timeZoneName",Icon:"glyphicon-globe",Unit:"",Value:b.timeZoneName},{Prop:"timeZoneId",Icon:"glyphicon-globe",Unit:"",Value:b.timeZoneId}])})}else alert("Geocode was not successful for the following reason: "+g)})},a.address="Blackheath Avenue, London SE10 8XJ, United Kingdom",a.codeAddress(a.address)})}]),angular.module("geocoderApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);